**EMACS как IDE**

`Emacs - хорошая операционная система, вот только редактор в ней подкачал.`

Уже пару лет я использую `doom emacs` для ... практически всего что связано с разработкой и, естественно, для освоения haskell. С шуткой выше давно можно не согласиться (со второй частью), если использовать `evil mode` для `emacs`, который активирует `vim`-комбинации клавиш для редактирования текста и махинациями с буферами. 
Использовать `emacs` для написания кода - это сплошное удовольствие. Это не только продвинутый редактор, но и почти всё, что потребуется для разработки в одном флаконе - терминалы, справка, git-клиент, в нем можно открыть pdf или сайт как в браузере (без js и картинок, конечно). 
Благодаря встроенным функциям и lsp сразу становится доступно множество функций по запуску тестов, переименованию в проекте, просмотру определений, навигации по проекту и т.д. 

Чтобы настроить emacs для haskell у вас должен быть установлен hls (haskell language server).
Далее в файле `init.el` нужно раскомментировать строчку
```elisp
(haskell +lsp +tree-sitter)    ; a language that's lazier than I am
```
она позволит использовать `haskell-mode` для редактирования файлов `.hs`.

Чтобы работать с комфортом нам понадобятся еще некоторые настройки - хуки для отображения сигнатуры типов и автоиндентации, а так же автоформатирование файла при сохранении:
```elisp
(add-hook 'haskell-mode-hook 'turn-on-haskell-doc-mode)
(add-hook 'haskell-mode-hook 'turn-on-haskell-indentation)
(add-hook 'haskell-mode-hook #'lsp)
(add-hook 'haskell-literate-mode-hook #'lsp)
(setq haskell-stylish-on-save t)
```

